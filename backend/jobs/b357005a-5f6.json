{
  "id": "b357005a-5f6",
  "kind": "blueprint",
  "prompt": "Job para falhar no GitOps e testar retry por step.",
  "status": "DONE",
  "createdAt": "2026-01-27T17:45:02.096Z",
  "updatedAt": "2026-01-27T18:07:51.898Z",
  "steps": [
    {
      "ts": "2026-01-27T17:45:02.101Z",
      "level": "info",
      "event": "ENQUEUED",
      "msg": "job queued"
    },
    {
      "ts": "2026-01-27T17:45:02.107Z",
      "level": "info",
      "event": "JOB_START",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T17:45:02.112Z",
      "level": "info",
      "event": "JOB_START",
      "msg": "job running"
    },
    {
      "ts": "2026-01-27T17:45:02.114Z",
      "level": "info",
      "event": "STEP_PREVIEW",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T17:45:02.118Z",
      "level": "info",
      "event": "STEP_PREVIEW",
      "msg": "generating preview"
    },
    {
      "ts": "2026-01-27T17:45:02.128Z",
      "level": "info",
      "event": "STEP_BUILD_ARTIFACTS",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T17:45:02.132Z",
      "level": "info",
      "event": "STEP_BUILD_ARTIFACTS",
      "msg": "building artifacts"
    },
    {
      "ts": "2026-01-27T17:45:02.139Z",
      "level": "info",
      "event": "STEP_DRAWIO",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T17:45:02.143Z",
      "level": "info",
      "event": "STEP_DRAWIO",
      "msg": "building drawio xml"
    },
    {
      "ts": "2026-01-27T17:45:02.147Z",
      "level": "info",
      "event": "STEP_WRITE_FILES",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T17:45:02.150Z",
      "level": "info",
      "event": "STEP_WRITE_FILES",
      "msg": "writing docs files + catalog"
    },
    {
      "ts": "2026-01-27T17:45:02.166Z",
      "level": "info",
      "event": "STEP_GITOPS",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T17:46:44.131Z",
      "level": "warn",
      "event": "RETRY",
      "msg": "retry requested from STEP_GITOPS"
    },
    {
      "ts": "2026-01-27T17:46:44.138Z",
      "level": "info",
      "event": "STEP_GITOPS",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T17:46:44.144Z",
      "level": "info",
      "event": "DONE",
      "msg": "job completed"
    },
    {
      "ts": "2026-01-27T18:05:48.770Z",
      "level": "warn",
      "event": "RETRY",
      "msg": "retry/resume from STEP_DRAWIO"
    },
    {
      "ts": "2026-01-27T18:05:48.776Z",
      "level": "info",
      "event": "STEP_DRAWIO",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T18:05:48.779Z",
      "level": "info",
      "event": "STEP_DRAWIO",
      "msg": "building drawio xml"
    },
    {
      "ts": "2026-01-27T18:05:48.783Z",
      "level": "info",
      "event": "STEP_WRITE_FILES",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T18:05:48.786Z",
      "level": "info",
      "event": "STEP_WRITE_FILES",
      "msg": "writing docs files + catalog"
    },
    {
      "ts": "2026-01-27T18:05:48.796Z",
      "level": "info",
      "event": "STEP_GITOPS",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T18:05:48.801Z",
      "level": "info",
      "event": "DONE",
      "msg": "job completed"
    },
    {
      "ts": "2026-01-27T18:07:51.871Z",
      "level": "warn",
      "event": "RETRY",
      "msg": "retry/resume from STEP_DRAWIO"
    },
    {
      "ts": "2026-01-27T18:07:51.876Z",
      "level": "info",
      "event": "STEP_DRAWIO",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T18:07:51.878Z",
      "level": "info",
      "event": "STEP_DRAWIO",
      "msg": "building drawio xml"
    },
    {
      "ts": "2026-01-27T18:07:51.882Z",
      "level": "info",
      "event": "STEP_WRITE_FILES",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T18:07:51.885Z",
      "level": "info",
      "event": "STEP_WRITE_FILES",
      "msg": "writing docs files + catalog"
    },
    {
      "ts": "2026-01-27T18:07:51.892Z",
      "level": "info",
      "event": "STEP_GITOPS",
      "msg": "event received"
    },
    {
      "ts": "2026-01-27T18:07:51.898Z",
      "level": "info",
      "event": "DONE",
      "msg": "job completed"
    }
  ],
  "result": {
    "meta": {
      "id": "56fcda5e",
      "date": "2026-01-27",
      "kind": "blueprint",
      "slug": "blueprint-2026-01-27-56fcda5e",
      "title": "BLUEPRINT 2026-01-27 - 56fcda5e",
      "diagramPath": "diagrams/blueprint-2026-01-27-56fcda5e.drawio"
    },
    "written": [
      "blueprints/blueprint-2026-01-27-56fcda5e.md",
      "decisions/ADR-2026-01-27-56fcda5e.md",
      "diagrams/blueprint-2026-01-27-56fcda5e.drawio"
    ],
    "gitops": {
      "enabled": false
    }
  },
  "error": null,
  "ctx": {
    "preview": "# Preview de Arquitetura (Mock)\n\n            ## Objetivo\n            Validar o fluxo de Arquitetura como Serviço (AaaS) sem dependência externa.\n\n            ## Escopo\n            - Frontend estático\n            - Backend seguro\n            - Geração de artefatos arquiteturais\n\n            ## Arquitetura (alto nível)\n            Front → Backend → Artefatos → GitOps → Publicação\n\n            ## NFRs\n            - Segurança\n            - Rastreabilidade\n            - Recuperabilidade\n            - Evolução incremental\n\n            ## Próximos Passos\n            - Persistir artefatos\n            - Versionar em Git\n            - Automatizar diagramas\n            ",
    "artifacts": {
      "meta": {
        "id": "56fcda5e",
        "date": "2026-01-27",
        "kind": "blueprint",
        "slug": "blueprint-2026-01-27-56fcda5e",
        "title": "BLUEPRINT 2026-01-27 - 56fcda5e",
        "diagramPath": "diagrams/blueprint-2026-01-27-56fcda5e.drawio"
      },
      "nodes": [
        {
          "label": "Frontend (OnePage)"
        },
        {
          "label": "Backend IA Seguro (API)"
        },
        {
          "label": "Artefatos (docs/) + GitOps"
        }
      ],
      "files": [
        {
          "path": "blueprints/blueprint-2026-01-27-56fcda5e.md",
          "content": "# BLUEPRINT 2026-01-27 - 56fcda5e\n\n## Contexto do Pedido\nJob para falhar no GitOps e testar retry por step.\n\n## Preview Gerado\n# Preview de Arquitetura (Mock)\n\n            ## Objetivo\n            Validar o fluxo de Arquitetura como Serviço (AaaS) sem dependência externa.\n\n            ## Escopo\n            - Frontend estático\n            - Backend seguro\n            - Geração de artefatos arquiteturais\n\n            ## Arquitetura (alto nível)\n            Front → Backend → Artefatos → GitOps → Publicação\n\n            ## NFRs\n            - Segurança\n            - Rastreabilidade\n            - Recuperabilidade\n            - Evolução incremental\n\n            ## Próximos Passos\n            - Persistir artefatos\n            - Versionar em Git\n            - Automatizar diagramas\n            \n"
        },
        {
          "path": "decisions/ADR-2026-01-27-56fcda5e.md",
          "content": "# ADR 2026-01-27-56fcda5e: blueprint\n\n## Contexto\nJob para falhar no GitOps e testar retry por step.\n\n## Decisão\nAdotar uma abordagem incremental orientada a eventos, com artefatos versionados.\n\n## Consequências\n- Padronização e rastreabilidade dos artefatos\n- Facilidade de rollback (quando GitOps entrar)\n- Evolução por módulos independentes\n"
        },
        {
          "path": "diagrams/blueprint-2026-01-27-56fcda5e.drawio",
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<mxfile host=\"app.diagrams.net\">\n  <diagram name=\"BLUEPRINT 2026-01-27 - 56fcda5e\">\n    <mxGraphModel dx=\"1200\" dy=\"800\" grid=\"1\" gridSize=\"10\">\n      <root>\n        <mxCell id=\"0\"/><mxCell id=\"1\" parent=\"0\"/>\n\n        <mxCell id=\"2\" value=\"Frontend (OnePage)\" style=\"rounded=1;whiteSpace=wrap;html=1;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"60\" y=\"140\" width=\"240\" height=\"90\" as=\"geometry\"/>\n        </mxCell>\n\n        <mxCell id=\"3\" value=\"Backend IA Seguro (API)\" style=\"rounded=1;whiteSpace=wrap;html=1;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"360\" y=\"140\" width=\"280\" height=\"90\" as=\"geometry\"/>\n        </mxCell>\n\n        <mxCell id=\"4\" value=\"Artefatos (docs/) + GitOps\" style=\"rounded=1;whiteSpace=wrap;html=1;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"720\" y=\"140\" width=\"280\" height=\"90\" as=\"geometry\"/>\n        </mxCell>\n\n        <mxCell id=\"5\" style=\"endArrow=block;html=1;\" edge=\"1\" parent=\"1\" source=\"2\" target=\"3\">\n          <mxGeometry relative=\"1\" as=\"geometry\"/>\n        </mxCell>\n\n        <mxCell id=\"6\" style=\"endArrow=block;html=1;\" edge=\"1\" parent=\"1\" source=\"3\" target=\"4\">\n          <mxGeometry relative=\"1\" as=\"geometry\"/>\n        </mxCell>\n\n      </root>\n    </mxGraphModel>\n  </diagram>\n</mxfile>"
        }
      ]
    }
  }
}