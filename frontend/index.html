<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AaaS Lab ‚Äî Workspaces</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="color-scheme" content="light dark">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">AaaS</div>
      <div class="titles">
        <h1>Architecture as a Service</h1>
        <p class="sub">Workspaces ‚Ä¢ Cat√°logo via Backend ‚Ä¢ GitOps ready</p>
      </div>
    </div>

    <div class="actions">
      <button id="btnTheme" class="btn" title="Alternar tema">üåó</button>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <h2>Conex√£o</h2>

      <div class="grid">
        <label class="field">
          <span>Backend URL</span>
          <input id="apiBase" type="text" value="http://localhost:8080" />
        </label>

        <label class="field">
          <span>Workspace</span>
          <input id="workspace" type="text" value="default" placeholder="ex.: arqea" />
        </label>

        <label class="field">
          <span>Token (x-aaas-token)</span>
          <input id="token" type="password" placeholder="cole o token do workspace" />
        </label>

        <div class="field">
          <span>&nbsp;</span>
          <button id="btnLoad" class="btn primary">Carregar cat√°logo</button>
          <button id="btnClearCatalog" class="btn danger" type="button">Limpar cat√°logo</button>
        </div>
      </div>

      <div class="hint">
        <p><b>Dica r√°pida (Lab):</b> autentica√ß√£o via headers <code>x-aaas-workspace</code> + <code>x-aaas-token</code>.</p>

        <p><b>Backend URL</b>: substitua pela URL do t√∫nel (HTTPS) disponibilizada pela equipe t√©cnica.</p>

        <p><b>Workspaces habilitados:</b></p>
        <ul>
          <li><code>default</code> ‚Äî token <code>ermundo-aaas-123</code></li>
          <li><code>arqea</code> ‚Äî token <code>arqea-456</code></li>
          <li><code>lab</code> ‚Äî token <code>lab-789</code></li>
        </ul>

        <p class="muted">Observa√ß√£o: tokens s√£o de laborat√≥rio.</p>
      </div>

      <div id="status" class="status"></div>
    </section>

    <section class="card">
      <h2>Gerar (ass√≠ncrono)</h2>
      <div class="grid">
        <label class="field span2">
          <span>Prompt</span>
          <textarea id="prompt" rows="4" placeholder="Descreva o que voc√™ quer gerar..."></textarea>
        </label>

        <label class="field">
          <span>Kind ‚Äì Artefato</span>
          <select id="selKindArtifact">
            <option value="blueprint">blueprint (.md)</option>
            <option value="adr">adr (.md)</option>
            <option value="drawio">drawio (.drawio / xml)</option>
          </select>
        </label>

        <label class="field">
          <span>Kind ‚Äì IA</span>
          <select id="selKindAI">
            <option value="gemini">Gemini</option>
            <option value="chatgpt" disabled>ChatGPT (em breve)</option>
            <option value="claude" disabled>Claude (em breve)</option>
            <option value="mock">Mock (teste)</option>
          </select>
        </label>

        <div class="field">
          <span>&nbsp;</span>
          <button id="btnGenerate" class="btn primary">Gerar (Job)</button>
        </div>
      </div>

      <div class="jobline">
        <div><b>Job:</b> <span id="jobId">‚Äî</span></div>
        <div><b>Status:</b> <span id="jobStatus">‚Äî</span></div>
        <div><button id="btnPoll" class="btn">Acompanhar</button></div>
      </div>
    </section>

    <section class="card">
      <div class="cardhead">
        <h2>Artefatos do Workspace</h2>
        <div class="meta">
          <span id="count">0</span> itens
        </div>
      </div>

      <div id="list" class="list"></div>
    </section>

  </main>

  <footer class="footer">
    <span>ARQEA AaaS Lab ‚Ä¢ OnePage</span>
  </footer>

  <script src="script.js"></script>
</body>
</html>